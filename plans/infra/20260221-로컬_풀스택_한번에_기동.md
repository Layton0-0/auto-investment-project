# 로컬 풀 스택 한 번에 기동 (배포 3대 동일 구성, Mumbai 제외)

**일시**: 2026-02-21  
**목표**: 로컬에서 배포 서버 3대(Osaka, Korea, AWS — Mumbai 제외)와 동일하게 Docker Compose로 전체 스택을 한 번의 셸 명령으로 기동.

## 산출물

| 항목 | 경로 |
|------|------|
| Compose 통합 | `investment-infra/docker-compose.local-full.yml` |
| 로컬 nginx 설정 | `investment-infra/nginx/conf.d.local/local.conf` |
| 기동 스크립트 (Unix) | `investment-infra/scripts/local-up.sh`, `local-down.sh` |
| 기동 스크립트 (Windows) | `investment-infra/scripts/local-up.ps1`, `local-down.ps1` |
| 문서 | `investment-infra/scripts/README.md`, `investment-infra/README.md` |

## 사용 방법

- **Linux / WSL / Git Bash**: `./investment-infra/scripts/local-up.sh`
- **Windows PowerShell**: `.\investment-infra\scripts\local-up.ps1`
- **중지**: `local-down.sh` 또는 `local-down.ps1`
- 접속: http://localhost (프론트), http://localhost/api (백엔드 API)

## 구성 요약

- Oracle 1 역할: timescaledb, redis  
- AWS 역할: backend, prediction-service, data-collector  
- Oracle 2 역할: frontend, nginx (단일 nginx로 `/api` → backend, `/` → frontend)  
- `.env` 없으면 로컬용 기본값 자동 생성. 백엔드 JAR 없으면 `bootJar` 자동 실행 후 이미지 빌드.
