# 퀀트 트레이더 관점 부족분 태스크 추가 및 개발 진행

**작성일:** 2026-02-21  
**목적:** Shrimp Task Manager로 월스트리트 퀀트 관점 기획의도(PRD·로드맵·자동투자 전략 명세)에 맞춰 부족분을 태스크로 추가하고 전체 개발 진행.

---

## 1. 부족분 식별 (5항)


| #   | 항목               | 내용                                                           |
| --- | ---------------- | ------------------------------------------------------------ |
| 1   | 일봉 차트 API        | GET /api/v1/market-data/daily-chart 미구현(404) — 차트·백테스트 품질 필수 |
| 2   | 설정 API 스펙        | 계좌별 거래 설정 없을 때 400 → 404 또는 기본값 반환                           |
| 3   | 장기(LONG_TERM) 전략 | 스텁 해제 — 청산·진입 로직 명시·문서화                                      |
| 4   | 백테스트 스트레스        | 2020-02~~04·2022-01~~06 결과 문서 기입(데이터 백필 선행)                  |
| 5   | 뉴스 시그널 강화        | 시그널 점수/가중치 반영·설정·문서화                                         |


---

## 2. Shrimp 태스크 및 실행 결과


| 태스크                            | ID                                   | 결과                        |
| ------------------------------ | ------------------------------------ | ------------------------- |
| 일봉 차트 API 구현                   | 905fc59a-ffda-4270-9fc9-cb8b8894a4b2 | 완료                        |
| 설정 없음 시 404 API 스펙 적용          | bd8c6966-b68b-4028-8af5-7587f2c4cdea | 완료                        |
| 장기(LONG_TERM) 전략 청산·진입 로직 구현   | fc3e6f83-5bbb-4887-bb5a-bdc29b1282e5 | 완료                        |
| 백테스트 스트레스 구간 데이터 백필 및 결과 문서 기입 | 4e61e7fb-964a-4329-8edd-b04f1fe2d573 | 문서 안내 추가 (실행·기입은 환경에서 수행) |
| 뉴스 시그널 점수 반영 강화 및 설정 문서화       | f7bf4a21-bcea-4477-a781-446540c28832 | 완료                        |


---

## 3. 구현 요약

### 3.1 일봉 차트 API

- `DailyChartPointDto`, `DailyChartService`(TB_DAILY_STOCK·DailyStockRepository) 추가.
- `MarketDataController` GET `/api/v1/market-data/daily-chart` (symbol, market, from, to optional, 최대 365일).
- 02-api-endpoints §8.3, QA 시나리오 마스터·최종 체크리스트 200 반영.

### 3.2 설정 없음 404

- `SettingController.getSetting` → `getSettingOptional` 사용, empty 시 `ResponseEntity.notFound().build()`.
- `SettingControllerTest` getSettingOptional 모킹·설정 없음 404 테스트 추가.
- 06-setting-api·QA 시나리오 마스터 갱신.

### 3.3 장기 전략

- `ExitRuleEvaluator` LONG_TERM 분기(noExit) 이미 구현. 주석·00-strategy-registry·roadmap 장기 항목 [x] 및 문구 정리.

### 3.4 백테스트 스트레스

- backtest-stress-results.md §3에 "실제 수치 기입 후 roadmap [x] 처리" 안내 추가. 백필·백테스트 실행은 운영 환경에서 수행.
- **직접 진행**: `investment-backend/scripts/run-stress-backtest.ps1` 추가. 로그인 → 코로나/금리 인상기 KR·US 백필(4회) → 팩터 계산 → 백테스트 4건 호출 후 `stress-backtest-results.json` 출력. 실행 시도 시 백엔드 미기동(연결 거부)으로 로그인 단계에서 종료. 문서 §5.3에 스크립트 경로·사용법(-EnvPath, .env의 SUPER_ADMIN_*)·§3 기입 방법 갱신. **백엔드·DB·Redis 기동 후 동 스크립트 재실행하면 §3 표 기입용 결과 생성 가능.**

### 3.5 뉴스 시그널 강화

- `NewsSignalService`: `signal-weight` 설정·`getSymbolScoresWithSignalNews(market, basDt)` Map 반환.
- `PositionSizingService`: 시그널 점수 내림차순 정렬.
- application.yml `investment.news.signal-weight`, 13-news-collection-design §6 보강.

---

## 4. 참고 문서

- [최종_QA_체크리스트.md](최종_QA_체크리스트.md)
- [QA_시나리오_마스터.md](QA_시나리오_마스터.md)
- investment-backend/docs: 02-api-endpoints.md, 06-setting-api.md, 00-strategy-registry.md, roadmap.md, backtest-stress-results.md, 13-news-collection-design.md

