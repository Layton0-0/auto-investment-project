---
description: 로컬 환경 Docker Compose(8080) + Agent 전용 백엔드 테스트(8084)
alwaysApply: true
---

# 로컬 환경 및 API 포트

- **로컬 풀 스택**: DB·Redis·Backend·Frontend·Nginx 등은 **Docker Compose Local**으로 띄운다.
  - Compose 파일: `investment-infra/docker-compose.local-full.yml`
  - 기동: `investment-infra/scripts/local-up.ps1` 또는 `docker compose -f docker-compose.local-full.yml up -d --build`
  - **이미 사용자가 해당 Compose로 서비스를 띄워 둔 상태**로 작업한다. Agent는 이 스택을 별도로 띄우지 않는다.

- **API Base URL** (로컬, Docker 기준):
  - **http://localhost:8080** — Backend 컨테이너 직접 (스크립트·QA·Swagger·문서 예시의 기본)
  - **http://localhost** — Nginx 80, 경로 `/api` 가 Backend로 프록시됨 (브라우저·프론트 연동 시)

- **8084 — 순수 로컬 Agent용 Backend 테스트 포트**
  - Agent가 백엔드만 따로 띄워 API/통합 검증이 필요할 때만 사용: `investment-backend/scripts/bootRun-agent.ps1` → **8084**에서 기동.
  - 사용 후 **반드시 8084 프로세스 종료** (해당 터미널 Ctrl+C). [agent-cleanup.mdc](agent-cleanup.mdc)에 따라 작업 종료 시 8084 등 사용 자원 정리.

- **8083**: 사용하지 않는다.

Agent가 Docker 스택을 대상으로 API 호출·문서 예시를 할 때는 **BaseUrl `http://localhost:8080`**. Agent가 직접 백엔드를 8084로 띄워 테스트할 때만 **BaseUrl `http://localhost:8084`** 사용.

참조: [docker-compose.local-full.yml](../../investment-infra/docker-compose.local-full.yml), [bootRun-agent.ps1](investment-backend/scripts/bootRun-agent.ps1), [agent-cleanup.mdc](agent-cleanup.mdc).
